{% extends 'base.html' %}

{% load static %}

{% block title %}我的{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/elearnapp/index.css' %}">
    <link rel="stylesheet" href="{% static 'bootstrap-select/css/bootstrap-select.min.css' %}">
{% endblock %}

{% block js %}
    <script type="text/javascript" src="{% static 'js/elearnapp/mine.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap-select/js/bootstrap-select.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap-select/js/defaults-zh_CN.min.js' %}"></script>
{% endblock %}

{% block content %}
    {% if request.session.user.identity == "student" %}
        <div class="container">
            <div class="row">
                <div class="homework-score">
                    <ul>
                        <li>
                            <div><h5>作业名</h5></div>
                            <div><h5>判断提分数</h5></div>
                            <div><h5>选择题分数</h5></div>
                            <div><h5>简答题分数</h5></div>
                            <div><h5>总分</h5></div>
                            <div><h5>作答时间</h5></div>
                        </li>
                    </ul>
                    <ul>
                        {% for s in s_score %}
                            <li>
                                <div>{{ s.homework.name }}</div>
                                <div>{{ s.pd_score }}</div>
                                <div>{{ s.xz_score }}</div>
                                <div>{{ s.jd_score }}</div>
                                <div>{{ s.total }}</div>
                                <div>{{ s.add_time }}</div>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    {% elif request.session.user.identity == "teacher" %}
        <div class="container">
            <div class="row">
                <div class="mine-item-title">
                    <ul>
                        <li style="background-color: #23b8ff"><a href="javascript:void(0)">上传视频</a></li>
                        <li><a href="javascript:void(0)">上传课件</a></li>
                        <li><a href="javascript:void(0)">添加作业</a></li>
                        <li><a href="javascript:void(0)">我的作业</a></li>
                        <li><a href="javascript:void(0)">批改作业</a></li>
                        <li><a href="javascript:void(0)">学习详情</a></li>
                        <li><a href="javascript:void(0)">学生分数</a></li>
                    </ul>
                </div>
                <div class="mine-item-content">
                    {# 上传课程封面 #}
                    <div class="mine-item-add-course" hidden="hidden">
                        <div class="mine-item-upload-video-inner">
                            <form id="upload-course" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <input type="text" class="form-control" name="course-name" placeholder="课程名"><span
                                    class="course-name-tip"
                                    style="margin-left: 5px;color: red;display: none;">请输入课程名</span>
                                <input type="text" class="form-control" name="course-desc" placeholder="课程描述(可为空)">
                                <a href="javascript:void(0)" class="a-upload">
                                    <input type="file" name="course-file" accept="image/*">点击选择封面图片
                                </a><span class="course-file-tip" style="margin-left: 5px;color: red;display: none;">请选择封面图片</span>
                                <input type="button" class="form-control upload-course" value="添加">
                            </form>
                            <span class="upload-course-success" style="color: green;display: none;">上传成功！</span>
                            <span class="upload-course-error" style="color: red;display: none;">上传失败！请重新上传</span>
                        </div>
                    </div>
                    {# 上传视频 #}
                    <div class="mine-item-upload-video">
                        <div class="mine-item-upload-video-inner">
                            <form id="upload-video" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <select class="selectpicker form-control" multiple data-live-search="true"
                                        data-max-options="1" name="course-select"
                                        data-style="btn-info" title="选择视频所属的分类">
                                    {% for course in allcourse %}
                                        <option value="{{ course.id }}">
                                            {{ course.course_title }}
                                        </option>
                                    {% endfor %}
                                </select><span class="option-tip" style="margin-left: 5px;color: red;display: none;">请选择分类&nbsp;<a class="add-course"
                                                                  href="javascript:void(0)">添加</a></span>
                                <span class="option-tip2">没有？点击<a class="add-course"
                                                                  href="javascript:void(0)">添加</a></span>
                                <br/>
                                <input type="text" class="form-control" name="video-name" placeholder="视频名"><span
                                    class="video-name-tip"
                                    style="margin-left: 5px;color: red;display: none;">请输入视频名</span>
                                <br/>
                                <a href="javascript:void(0)" class="a-upload">
                                    <input type="file" name="video-file" accept="video/*">点击选择视频文件
                                </a><span class="video-file-tip" style="margin-left: 5px;color: red;display: none;">请选择视频文件</span>
                                <input type="button" class="form-control upload-video" value="上传">
                            </form>
                            <span class="upload-video-success" style="color: green;display: none;">上传成功！</span>
                            <span class="upload-video-error" style="color: red;display: none;">上传失败！请重新上传</span>
                        </div>
                    </div>


                    {# 上传课件 #}
                    <div class="mine-item-upload-courseware" hidden="hidden">
                        <div class="mine-item-upload-courseware-inner">
                            <form id="upload-courseware" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <input type="text" class="form-control" name="courseware-name"
                                       placeholder="课件名"><span
                                    class="courseware-name-tip"
                                    style="margin-left: 5px;color: red;display: none;">请输入课件名</span>
                                <br/>
                                <a href="javascript:void(0)" class="a-upload">
                                    <input type="file" name="courseware-file">点击选择文件
                                </a><span class="courseware-file-tip"
                                          style="margin-left: 5px;color: red;display: none;">请选择文件</span>
                                <input type="button" class="form-control upload" value="上传">
                            </form>
                            <span class="upload-success" style="color: green;display: none;">上传成功！</span>
                            <span class="upload-error" style="color: red;display: none;">上传失败！请重新上传</span>
                        </div>
                    </div>

                    {# 上传作业 #}
                    <div class="mine-item-add-homework" hidden="hidden">
                        <div class="mine-item-add-homework-inner">
                            <form id="upload-homework" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <input type="text" class="form-control" name="homework-name" placeholder="作业名"><span
                                    class="homework-name-tip"
                                    style="margin-left: 5px;color: red;display: none;">请输入作业名</span>
                                <input type="text" class="form-control" name="homework-id" placeholder="作业号(可为空)">
                                <input type="text" class="form-control" name="homework-desc" placeholder="作业描述(可为空)">
                                <input type="button" class="form-control upload-homework" value="添加">
                            </form>
                            <span class="upload-homework-success" style="color: green;display: none;">上传成功！</span>
                            <span class="upload-homework-error" style="color: red;display: none;">上传失败！请重新上传</span>
                        </div>
                    </div>
                    {# 上传题目 #}
                    <div class="mine-item-add-questions" hidden="hidden">
                        <div class="mine-item-add-questions-inner">
                            <form id="add-question" method="post">
                                {% csrf_token %}
                                <select class="selectpicker form-control" multiple data-live-search="true"
                                        data-max-options="1" name="homework-select"
                                        data-style="btn-info" title="选择要添加题目的作业">
                                    {% for homework in allhomework %}
                                        <option value="{{ homework.id }}">
                                            {{ homework.name }}
                                        </option>
                                    {% endfor %}
                                </select><span class="questions-option-tip"
                                               style="margin-left: 5px;color: red;display: none;">请选择分类</span>
                                <span class="questions-option-tip2">没有？点击<a class="add-homework"
                                                                            href="javascript:void(0)">添加</a></span>
                                <br/>
                                <span class="homework-select-tip" style="color: red;display: none;">不能为空</span>
                                <div class="select-question-type">
                                    <span><a class="pd" href="javascript:void(0)" style="color: #12a7ff">判断题</a></span>
                                    <span><a class="xz" href="javascript:void(0)">单项选择题</a></span>
                                    <span><a class="jd" href="javascript:void(0)">简答题</a></span>
                                </div>

                                <div class="mine-item-pd">
                                    <textarea class="form-control" name="pd-question" placeholder="问题描述"></textarea>
                                    <span class="pd-question-tip" style="color: red;display: none;">问题不能为空</span>
                                    <input type="radio" name="pd-anwser" value="正确">正确&nbsp;&nbsp;&nbsp;&nbsp;
                                    <input type="radio" name="pd-anwser" value="错误">错误
                                    <span class="pd-anwser-tip" style="color: red;display: none;">答案不能为空</span>
                                    <input type="button" class="form-control add-pd-question" value="添加">
                                </div>

                                <div class="mine-item-xz" hidden="hidden">
                                    <textarea class="form-control" name="xz-question" placeholder="问题描述"></textarea>
                                    <span class="xz-question-tip" style="color: red;display: none;">问题不能为空</span>

                                    <input type="text" class="form-control" name="xz-anwser-A" placeholder="A选项">
                                    <span class="xz-anwser-A-tip" style="color: red;display: none;">选项不能为空</span>

                                    <input type="text" class="form-control" name="xz-anwser-B" placeholder="B选项">
                                    <span class="xz-anwser-B-tip" style="color: red;display: none;">选项不能为空</span>

                                    <input type="text" class="form-control" name="xz-anwser-C" placeholder="C选项">
                                    <span class="xz-anwser-C-tip" style="color: red;display: none;">选项不能为空</span>

                                    <input type="text" class="form-control" name="xz-anwser-D" placeholder="D选项">
                                    <span class="xz-anwser-D-tip" style="color: red;display: none;">选项不能为空</span>

                                    <input type="radio" name="xz-anwser" value="A">A&nbsp;&nbsp;&nbsp;&nbsp;
                                    <input type="radio" name="xz-anwser" value="B">B&nbsp;&nbsp;&nbsp;&nbsp;
                                    <input type="radio" name="xz-anwser" value="C">C&nbsp;&nbsp;&nbsp;&nbsp;
                                    <input type="radio" name="xz-anwser" value="D">D
                                    <span class="xz-anwser-tip" style="color: red;display: none;">答案不能为空</span>
                                    <input type="button" class="form-control add-xz-question" value="添加">
                                </div>

                                <div class="mine-item-jd" hidden="hidden">
                                    <textarea class="form-control" name="jd-question" placeholder="问题描述"></textarea>
                                    <span class="jd-question-tip" style="color: red;display: none;">问题不能为空</span>
                                    <textarea class="form-control" name="jd-anwser" placeholder="问题答案(默认为空)"></textarea>
                                    <input type="button" class="form-control add-jd-question" value="添加">
                                </div>
                            </form>
                            <span class="add-question-success" style="color: green;display: none;">添加成功！</span>
                            <span class="add-question-error" style="color: red;display: none;">添加失败！请重新添加</span>
                        </div>
                    </div>

                    {# 我的作业 #}
                    <div class="mine-item-myhomework" hidden="hidden">
                        <div class="mine-item-myhomework-inner">
                            <ul>
                                {% for homework in my_homework %}
                                    <li>
                                        <div>
                                            <span>{{ homework.name }}{% if homework.is_release == 0 %}
                                                （未发布）{% endif %}</span>
                                            <span>
                                                {% if homework.is_release == 0 %}
                                                    <button class="btn btn-sm release-homework"
                                                            value="{{ homework.id }}">发布</button>
                                                    {% else %}
                                                    <button class="btn btn-sm release-homework" value="{{ homework.id }}" disabled>发布</button>
                                                {% endif %}</span>
                                        </div>
                                    </li>
                                {% endfor %}
                            </ul>

                        </div>
                    </div>

                    {# 批改作业 #}
                    <div class="mine-item-correct-homework" hidden="hidden">

                    </div>
                    {# 学生详情 #}
                    <div class="mine-item-student-details" hidden="hidden">

                    </div>

                    {# 学生分数 #}
                    <div class="mine-item-student-score" hidden="hidden">

                    </div>


                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}